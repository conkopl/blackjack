This is the main code I have developed for my blackjack game:


import streamlit as st
import random

# Card symbols for visual display
SUITS = {'Hearts': 'â™¥ï¸', 'Diamonds': 'â™¦ï¸', 'Clubs': 'â™£ï¸', 'Spades': 'â™ ï¸'}
RANKS = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K']

def create_deck():
    """Create a standard 52-card deck"""
    deck = []
    for suit in SUITS.keys():
        for rank in RANKS:
            deck.append({'rank': rank, 'suit': suit})
    random.shuffle(deck)
    return deck

def card_value(card):
    """Get the numeric value of a card"""
    if card['rank'] in ['J', 'Q', 'K']:
        return 10
    elif card['rank'] == 'A':
        return 11
    else:
        return int(card['rank'])

def calculate_hand_value(hand):
    """Calculate the total value of a hand, handling Aces"""
    value = sum(card_value(card) for card in hand)
    aces = sum(1 for card in hand if card['rank'] == 'A')
    
    # Convert Aces from 11 to 1 if needed to avoid bust
    while value > 21 and aces > 0:
        value -= 10
        aces -= 1
    
    return value

def display_card(card):
    """Format a card for display"""
    return f"{card['rank']}{SUITS[card['suit']]}"

def display_hand(hand, hide_first=False):
    """Display a hand of cards"""
    if hide_first:
        cards = ["ğŸ‚ "] + [display_card(card) for card in hand[1:]]
    else:
        cards = [display_card(card) for card in hand]
    return " ".join(cards)

def initialize_game():
    """Initialize a new game"""
    deck = create_deck()
    player_hand = [deck.pop(), deck.pop()]
    dealer_hand = [deck.pop(), deck.pop()]
    
    return {
        'deck': deck,
        'player_hand': player_hand,
        'dealer_hand': dealer_hand,
        'game_over': False,
        'result': None
    }

def dealer_play(dealer_hand, deck):
    """Dealer plays according to blackjack rules (hit until 17)"""
    while calculate_hand_value(dealer_hand) < 17:
        dealer_hand.append(deck.pop())
    return dealer_hand

def determine_winner(player_value, dealer_value):
    """Determine the winner of the game"""
    if player_value > 21:
        return "Bust! Dealer wins!"
    elif dealer_value > 21:
        return "Dealer busts! You win!"
    elif player_value > dealer_value:
        return "You win!"
    elif dealer_value > player_value:
        return "Dealer wins!"
    else:
        return "It's a tie!"

# Initialize session state
if 'game_state' not in st.session_state:
    st.session_state.game_state = initialize_game()

# Page config
st.title("ğŸ° Blackjack Game")
st.markdown("---")

game = st.session_state.game_state

# Display dealer's hand
st.subheader("Dealer's Hand")
if game['game_over']:
    dealer_display = display_hand(game['dealer_hand'])
    dealer_value = calculate_hand_value(game['dealer_hand'])
    st.markdown(f"### {dealer_display}")
    st.write(f"**Value:** {dealer_value}")
else:
    dealer_display = display_hand(game['dealer_hand'], hide_first=True)
    st.markdown(f"### {dealer_display}")
    st.write("**Value:** ???")

st.markdown("---")

# Display player's hand
st.subheader("Your Hand")
player_display = display_hand(game['player_hand'])
player_value = calculate_hand_value(game['player_hand'])
st.markdown(f"### {player_display}")
st.write(f"**Value:** {player_value}")

st.markdown("---")

# Game logic and buttons
if not game['game_over']:
    # Check for immediate bust
    if player_value > 21:
        game['game_over'] = True
        dealer_value = calculate_hand_value(game['dealer_hand'])
        game['result'] = determine_winner(player_value, dealer_value)
    
    # Check for blackjack
    elif player_value == 21:
        game['game_over'] = True
        game['dealer_hand'] = dealer_play(game['dealer_hand'], game['deck'])
        dealer_value = calculate_hand_value(game['dealer_hand'])
        if dealer_value == 21:
            game['result'] = "Both have Blackjack! It's a tie!"
        else:
            game['result'] = "Blackjack! You win!"
    
    else:
        col1, col2 = st.columns(2)
        
        with col1:
            if st.button("ğŸƒ Hit", use_container_width=True):
                game['player_hand'].append(game['deck'].pop())
                player_value = calculate_hand_value(game['player_hand'])
                
                if player_value > 21:
                    game['game_over'] = True
                    dealer_value = calculate_hand_value(game['dealer_hand'])
                    game['result'] = determine_winner(player_value, dealer_value)
                elif player_value == 21:
                    game['game_over'] = True
                    game['dealer_hand'] = dealer_play(game['dealer_hand'], game['deck'])
                    dealer_value = calculate_hand_value(game['dealer_hand'])
                    game['result'] = determine_winner(player_value, dealer_value)
                
                st.rerun()
        
        with col2:
            if st.button("âœ‹ Stand", use_container_width=True):
                game['game_over'] = True
                game['dealer_hand'] = dealer_play(game['dealer_hand'], game['deck'])
                player_value = calculate_hand_value(game['player_hand'])
                dealer_value = calculate_hand_value(game['dealer_hand'])
                game['result'] = determine_winner(player_value, dealer_value)
                st.rerun()

# Display result
if game['game_over'] and game['result']:
    st.markdown("---")
    if "You win" in game['result']:
        st.success(f"### ğŸ‰ {game['result']}")
    elif "tie" in game['result'].lower():
        st.info(f"### ğŸ¤ {game['result']}")
    else:
        st.error(f"### ğŸ˜” {game['result']}")

# New Game button
st.markdown("---")
if st.button("ğŸ”„ New Game", use_container_width=True):
    st.session_state.game_state = initialize_game()
    st.rerun()
